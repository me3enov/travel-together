(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{414:function(e,a,t){Promise.resolve().then(t.bind(t,5097))},5643:function(e,a,t){"use strict";t.d(a,{Z:function(){return m}});var s=t(7437);t(2265);var n=t(6755),i=t(3145),r=t(8575),o=t(4492),l=e=>{let{name:a,imagePath:t,index:l}=e,c=(0,r.I0)(),m=(0,r.v9)(e=>e.token.cards.find(e=>e.name===a)),d=(0,r.v9)(e=>e.token.availableTokens),u=(null==m?void 0:m.token)===1?"/travel-together/icons/token1.svg":(null==m?void 0:m.token)===2?"/travel-together/icons/token2.svg":null,g=d.first>0||d.second>0;return(0,s.jsxs)(n.E.div,{className:"flex flex-col items-center space-y-5 cursor-pointer",initial:{opacity:0,scale:1.4},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut",delay:.1*l},whileHover:!g||(null==m?void 0:m.token)?{}:{scale:1.1},onClick:g||(null==m?void 0:m.token)?()=>{(null==m?void 0:m.token)?c((0,o.gy)(a)):c((0,o.OY)(a))}:void 0,children:[(0,s.jsx)("div",{className:"relative w-[212px] h-[324px] rounded-[30px] border-[15px] border-[var(--token-background-color)]",children:(0,s.jsxs)(n.E.div,{className:"relative w-full h-full rounded-[30px] bg-[var(--card-bg-color)]",style:{filter:(null==m?void 0:m.token)?"none":"grayscale(100%)"},whileHover:!g||(null==m?void 0:m.token)?{}:{filter:"grayscale(0%)"},transition:{duration:.3},children:[t?(0,s.jsx)(i.default,{src:"/travel-together/".concat(t,"@2x.png"),alt:a,width:212,height:324,className:"w-full h-full object-cover rounded-[15px]"}):(0,s.jsx)("div",{className:"w-full h-full bg-[var(--white-color)] rounded-[15px]"}),u&&(0,s.jsx)(i.default,{src:u,alt:"Token ".concat(null==m?void 0:m.token),width:50,height:50,className:"absolute top-[-35px] left-1/2 transform -translate-x-1/2 w-[50px] h-[50px]"})]})}),(0,s.jsx)("p",{className:"text-center text-[var(--white-color)] text-lg",children:a})]})};let c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}};var m=e=>{let{cards:a}=e;return(0,s.jsx)(n.E.div,{className:"w-full flex flex-col items-center space-y-12",variants:c,initial:"hidden",animate:"visible",children:(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-10",children:a.map((e,a)=>(0,s.jsx)(l,{name:e.name,imagePath:e.imagePath,index:a},e.name))})})}},6160:function(e,a,t){"use strict";var s=t(7437),n=t(6755);a.Z=e=>{let{roundTitle:a,subtitle:t}=e;return(0,s.jsxs)(n.E.div,{className:"flex flex-col items-center space-y-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},children:[(0,s.jsx)(n.E.h2,{className:"text-3xl font-semibold",initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:a}),(0,s.jsx)(n.E.p,{className:"text-lg text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:t})]})}},5097:function(e,a,t){"use strict";t.d(a,{default:function(){return f}});var s=t(7437),n=t(2265),i=t(9376),r=t(8575),o=t(4492),l=t(9885),c=t(1131),m=t(5643),d=t(6160),u=t(6089),g=JSON.parse('{"c":[{"category":"Location","options":[{"name":"Megapolis","imagePath":"/images/cards/Megapolis/Megapolis"},{"name":"City","imagePath":"/images/cards/City/City"},{"name":"Town","imagePath":"/images/cards/Town/Town"},{"name":"Privacy","imagePath":"/images/cards/Privacy/Privacy"},{"name":"Resort","imagePath":"/images/cards/Resort/Resort"}]},{"category":"Accommodation","options":[{"name":"Hotel","imagePath":"/images/cards/Hotel/Hotel"},{"name":"Apartments","imagePath":"/images/cards/Apartments/Apartments"},{"name":"House","imagePath":"/images/cards/House/House"},{"name":"Camping","imagePath":"/images/cards/Camping/Camping"}]},{"category":"Views","options":[{"name":"Mountains","imagePath":"/images/cards/Mountains/Mountains"},{"name":"Sea","imagePath":"/images/cards/Sea/Sea"},{"name":"Forest","imagePath":"/images/cards/Forest/Forest"},{"name":"Promenade","imagePath":"/images/cards/Promenade/Promenade"},{"name":"Dunes","imagePath":"/images/cards/Dunes/Dunes"}]},{"category":"Intensity","options":[{"name":"One Location","imagePath":"/images/cards/OneLocation/OneLocation"},{"name":"Base with Excursions","imagePath":"/images/cards/BaseExcursions/BaseExcursions"},{"name":"Travel","imagePath":"/images/cards/Travel/Travel"}]},{"category":"Sightseeing","options":[{"name":"On Foot","imagePath":"/images/cards/OnFoot/OnFoot"},{"name":"Car","imagePath":"/images/cards/Car/Car"},{"name":"Ship","imagePath":"/images/cards/Ship/Ship"},{"name":"Excursion","imagePath":"/images/cards/Excursion/Excursion"},{"name":"Boat/Kayak","imagePath":"/images/cards/BoatKayak/BoatKayak"}]},{"category":"Cuisine","options":[{"name":"National","imagePath":"/images/cards/National/National"},{"name":"European","imagePath":"/images/cards/European/European"},{"name":"Seafood","imagePath":"/images/cards/Seafood/Seafood"},{"name":"Own","imagePath":"/images/cards/Own/Own"}]}],"I":[{"category":"Shopping","options":[{"name":"Markets","imagePath":"/images/cards/Markets/Markets"},{"name":"Shopping Malls","imagePath":"/images/cards/ShoppingMalls/ShoppingMalls"},{"name":"Outlets","imagePath":"/images/cards/Outlets/Outlets"},{"name":"Shops","imagePath":"/images/cards/Shops/Shops"}]},{"category":"Active Entertainment","options":[{"name":"Off-road","imagePath":"/images/cards/OffRoad/OffRoad"},{"name":"Horse Riding","imagePath":"/images/cards/HorseRiding/HorseRiding"},{"name":"Paragliding","imagePath":"/images/cards/Paragliding/Paragliding"},{"name":"Hot Air Balloon","imagePath":"/images/cards/HotAirBalloon/HotAirBalloon"},{"name":"Snorkeling/Diving","imagePath":"/images/cards/SnorkelingDiving/SnorkelingDiving"},{"name":"Water Sports","imagePath":"/images/cards/WaterSports/WaterSports"}]},{"category":"Places","options":[{"name":"Caves and Grottos","imagePath":"/images/cards/CavesGrottos/CavesGrottos"},{"name":"Religious Places","imagePath":"/images/cards/ReligiousPlaces/ReligiousPlaces"},{"name":"Waterfalls","imagePath":"/images/cards/Waterfalls/Waterfalls"},{"name":"Ancient Buildings","imagePath":"/images/cards/AncientBuildings/AncientBuildings"},{"name":"National Parks","imagePath":"/images/cards/NationalParks/NationalParks"}]},{"category":"Culture","options":[{"name":"Museum","imagePath":"/images/cards/Museum/Museum"},{"name":"Gallery","imagePath":"/images/cards/Gallery/Gallery"},{"name":"Historical Architecture","imagePath":"/images/cards/HistoricalArchitecture/HistoricalArchitecture"},{"name":"Dancing","imagePath":"/images/cards/Dancing/Dancing"},{"name":"Opera","imagePath":"/images/cards/Opera/Opera"},{"name":"Theater","imagePath":"/images/cards/Theater/Theater"}]},{"category":"Nightlife","options":[{"name":"Bar","imagePath":"/images/cards/Bar/Bar"},{"name":"Club","imagePath":"/images/cards/Club/Club"},{"name":"Movie Night","imagePath":"/images/cards/MovieNight/MovieNight"},{"name":"Live Music","imagePath":"/images/cards/LiveMusic/LiveMusic"}]},{"category":"Creativity & Workshops","options":[{"name":"Cooking Workshops","imagePath":"/images/cards/CookingWorkshops/CookingWorkshops"},{"name":"Handcraft Workshops","imagePath":"/images/cards/HandcraftWorkshops/HandcraftWorkshops"},{"name":"Photo Tour","imagePath":"/images/cards/PhotoTour/PhotoTour"}]},{"category":"Relax","options":[{"name":"Spa","imagePath":"/images/cards/Spa/Spa"},{"name":"Hamam","imagePath":"/images/cards/Hamam/Hamam"},{"name":"Massage","imagePath":"/images/cards/Massage/Massage"},{"name":"Beach Rest","imagePath":"/images/cards/BeachRest/BeachRest"}]}]}'),h=t(4131),p=t(7727),v=t(6755),f=()=>{let e=(0,r.I0)(),a=(0,i.useParams)(),t=(0,i.useRouter)(),f=Array.isArray(a.round)?a.round[0]:a.round,x=Array.isArray(a.selection)?a.selection[0]:a.selection,y=(0,r.v9)(e=>e.token.availableTokens),P=(0,r.v9)(e=>e.token.cards),[k,w]=(0,n.useState)(null),[b,j]=(0,n.useState)([]),N="1"===f?g.c:g.I;(0,n.useEffect)(()=>{let a=h.Z.get("playerName");if(a&&w(a),"1"===f||"2"===f){let a=N[parseInt(x)-1],t=null==a?void 0:a.options.map(e=>({name:e.name,imagePath:e.imagePath,category:a.category}));e((0,o.EC)(t||[]))}else{let a=Array.isArray((0,p.j7)())?(0,p.j7)():[];if("1"===x&&((0,p.m8)("shuffledRounds",[]),a=[]),!a||0===a.length){var t;let e=[...(null===(t=(0,p.Pt)("tempCards"))||void 0===t?void 0:t.filter(e=>e.tokenPlaced))||[]].sort(()=>.5-Math.random());(0,p.mV)(e),a=(0,p.j7)()}let s=a[parseInt(x)-1];e((0,o.EC)(s.options.map(e=>({name:e.name,imagePath:e.imagePath,category:"Mixed"})))),j(s.options)}e((0,o.IH)({round:parseInt(f),isRescue:!1}))},[e,x,N,f]);let S=0===y.first&&0===y.second;return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(l.Z,{showHomeButton:!0}),(0,s.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center bg-gradient-to-b from-[#C2E59C] to-[#64B3F4] space-y-8 pt-16 pb-16",children:[(0,s.jsx)(d.Z,{roundTitle:"Round ".concat(f,".").concat(x),subtitle:y.first+y.second===0?"Great!":"".concat(k,", please select the ").concat(y.first+y.second," most preferred options")}),(0,s.jsx)(m.Z,{cards:"1"===f||"2"===f?P:b}),(0,s.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:S?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"w-full px-8",children:(0,s.jsx)("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mx-auto",children:(0,s.jsx)(u.Z,{label:"Next",onClick:()=>{let e=parseInt(x)+1,a=Array.isArray((0,p.j7)())?(0,p.j7)():[];"1"===x&&((0,p.P7)(),(0,p.m8)("tempCards",[])),P.forEach(e=>{var a,t,s;let n="1"===f||"2"===f?null===(t=N[parseInt(x)-1])||void 0===t?void 0:null===(a=t.options)||void 0===a?void 0:a.find(a=>a.name===e.name):b.find(a=>a.name===e.name),i={name:e.name,imagePath:(null==n?void 0:n.imagePath)||"",main:"1"===f,category:(null===(s=N[parseInt(x)-1])||void 0===s?void 0:s.category)||"",tokenPlaced:null!==e.token,score:1===e.token?3:2===e.token?2:0},r=Array.isArray((0,p.Pt)("tempCards"))?(0,p.Pt)("tempCards"):[];(0,p.m8)("tempCards",[...r,i])}),"1"===f?e<=N.length?(h.Z.set("currentRound",f),h.Z.set("currentSelection",e.toString()),h.Z.set("isRescue","false"),window.history.replaceState(null,"","/travel-together/round/".concat(f,"/").concat(e)),t.push("/round/".concat(f,"/").concat(e))):(h.Z.set("currentRound","2"),h.Z.set("currentSelection","1"),h.Z.set("isRescue","false"),window.history.replaceState(null,"","/travel-together/round/2/1"),t.push("/round/2/1")):"2"===f?e<=N.length?(h.Z.set("currentRound",f),h.Z.set("currentSelection",e.toString()),h.Z.set("isRescue","false"),window.history.replaceState(null,"","/travel-together/round/".concat(f,"/").concat(e)),t.push("/round/".concat(f,"/").concat(e))):(h.Z.set("currentRound",f),h.Z.set("currentSelection","rescue"),h.Z.set("isRescue","true"),window.history.replaceState(null,"","/travel-together/round/".concat(f,"/rescue")),t.push("/round/".concat(f,"/rescue"))):e<=a.length?(h.Z.set("currentRound",f),h.Z.set("currentSelection",e.toString()),h.Z.set("isRescue","false"),window.history.replaceState(null,"","/travel-together/round/".concat(f,"/").concat(e)),t.push("/round/".concat(f,"/").concat(e))):(h.Z.set("currentRound",f),h.Z.set("currentSelection","rescue"),h.Z.set("isRescue","true"),window.history.replaceState(null,"","/travel-together/round/".concat(f,"/rescue")),t.push("/round/".concat(f,"/rescue")))},disabled:!S})})})]}),(0,s.jsx)(c.Z,{})]})}},1131:function(e,a,t){"use strict";var s=t(7437);a.Z=()=>(0,s.jsx)("footer",{className:"w-full h-16 py-4 bottom-0",children:(0,s.jsx)("p",{className:"text-center text-sm text-white",children:"by Artem 2024"})})},9885:function(e,a,t){"use strict";t.d(a,{Z:function(){return m}});var s=t(7437),n=t(8575),i=t(2265),r=t(9106),o=()=>{let[e,a]=(0,i.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{a(!0)},className:"w-[40px] h-[32px] cursor-pointer transition-colors duration-300 hover:bg-transparent",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"32",fill:"none",className:"transition-colors duration-300",children:(0,s.jsx)("path",{d:"M34.29 18.32v11.9c0 .43-.156.802-.47 1.116a1.526 1.526 0 0 1-1.117.471h-9.527v-9.52h-6.352v9.52H7.297c-.43 0-.802-.157-1.116-.47a1.524 1.524 0 0 1-.472-1.116v-11.9L20 6.421l14.266 11.751Z",className:"hover:fill-white",fill:"currentColor"})})}),e&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40",children:(0,s.jsx)(r.Z,{onClose:()=>{a(!1)}})})]})},l=t(3145),c=e=>{let{value:a,count:t}=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.default,{src:1===a?"/travel-together/icons/token1.svg":"/travel-together/icons/token2.svg",alt:"Token ".concat(a),width:32,height:32}),(0,s.jsxs)("span",{className:"text-white text-lg font-bold",children:["X ",t]})]})},m=e=>{let{showHomeButton:a}=e,t=(0,n.v9)(e=>e.token.availableTokens);return(0,s.jsxs)("header",{className:"w-full h-16 flex justify-between items-center p-4 bg-transparent fixed top-0 left-0 z-50",children:[a&&(0,s.jsx)(o,{}),a&&(0,s.jsxs)("div",{className:"flex space-x-8",children:[(0,s.jsx)(c,{value:1,count:t.first}),(0,s.jsx)(c,{value:2,count:t.second})]})]})}},9106:function(e,a,t){"use strict";var s=t(7437),n=t(9376),i=t(4131),r=t(6089),o=t(3333);a.Z=e=>{let{onClose:a}=e,t=(0,n.useRouter)();return(0,s.jsx)("div",{className:"flex flex-col space-y-4 mt-0",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-[30px] p-[20px] max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg w-full space-y-5",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(o.Z,{onClose:a}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-center text-[var(--header-text-color)] uppercase h-10",children:"Are you sure you want to reset?"}),(0,s.jsxs)("div",{className:"flex justify-around space-x-4 mt-4",children:[(0,s.jsx)(r.Z,{label:"Yes",onClick:()=>{i.Z.remove("gameState"),i.Z.remove("currentRound"),i.Z.remove("currentSelection"),i.Z.remove("isRescue"),localStorage.clear(),t.push("/")}}),(0,s.jsx)(r.Z,{label:"No",onClick:a})]})]})})}},6089:function(e,a,t){"use strict";var s=t(7437);a.Z=e=>{let{label:a,onClick:t,disabled:n=!1}=e;return(0,s.jsx)("button",{className:"w-full h-10 rounded-full uppercase transition-all duration-300 ease-in-out \n                    ".concat(n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[var(--primary-color)] text-white hover:bg-gradient-to-r hover:from-[var(--primary-color)] hover:to-[var(--hover-primary-color)] hover:bg-size-200 hover:bg-pos-0 hover:bg-right-200"),onClick:t,disabled:n,children:a})}},3333:function(e,a,t){"use strict";var s=t(7437);a.Z=e=>{let{onClose:a}=e;return(0,s.jsx)("button",{className:"absolute top-[-10px] right-[-10px] w-[15px] h-[15px] cursor-pointer transition-colors duration-300 hover:bg-transparent",onClick:a,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"none",className:"transition-colors duration-300",children:(0,s.jsx)("path",{d:"M15 1.364 13.636 0 7.5 6.136 1.364 0 0 1.364 6.136 7.5 0 13.636 1.364 15 7.5 8.864 13.636 15 15 13.636 8.864 7.5 15 1.364Z",className:"hover:fill-white",fill:"currentColor"})})})}},4492:function(e,a,t){"use strict";t.d(a,{EC:function(){return n},IH:function(){return l},OY:function(){return r},gy:function(){return o},w_:function(){return i}});let s=(0,t(1455).oM)({name:"token",initialState:{availableTokens:{first:1,second:1},cards:[]},reducers:{initializeCards:(e,a)=>{e.cards=a.payload.map(e=>({...e,token:null}))},initializeRescueCards:(e,a)=>{e.cards=a.payload.map(e=>({...e,token:null}))},placeToken:(e,a)=>{let t=e.cards.find(e=>e.name===a.payload);t&&(e.availableTokens.first>0?(t.token=1,e.availableTokens.first-=1):e.availableTokens.second>0&&(t.token=2,e.availableTokens.second-=1))},removeToken:(e,a)=>{let t=e.cards.find(e=>e.name===a.payload);t&&null!==t.token&&(1===t.token?e.availableTokens.first+=1:2===t.token&&(e.availableTokens.second+=1),t.token=null)},setTokensByRoundType:(e,a)=>{a.payload.isRescue?2===a.payload.round?(e.availableTokens.first=2,e.availableTokens.second=2):3===a.payload.round?(e.availableTokens.first=1,e.availableTokens.second=1):4===a.payload.round&&(e.availableTokens.first=1,e.availableTokens.second=0):(e.availableTokens.first=1,e.availableTokens.second=1)}}}),{initializeCards:n,initializeRescueCards:i,placeToken:r,removeToken:o,setTokensByRoundType:l}=s.actions;a.ZP=s.reducer},7727:function(e,a,t){"use strict";t.d(a,{P7:function(){return i},Pt:function(){return n},j7:function(){return o},m8:function(){return s},mV:function(){return r}});let s=(e,a)=>{localStorage.setItem(e,JSON.stringify(a))};function n(e){{let a=localStorage.getItem(e);return a?JSON.parse(a):null}}let i=()=>{let e=n("tempCards")||[],a=n("permanentCards")||[];e.forEach(e=>{let t=a.find(a=>a.name===e.name);if(t)t.score=(t.score||0)+(e.score||0);else{let{...t}=e;a.push(t)}}),s("permanentCards",a),s("tempCards",[])},r=e=>{let a=[];for(let t=0;t<e.length;t+=4)a.push({category:"all-".concat(Math.ceil((t+1)/4)),options:e.slice(t,t+4)});s("shuffledRounds",a)},o=()=>n("shuffledRounds")}},function(e){e.O(0,[55,455,145,755,971,117,744],function(){return e(e.s=414)}),_N_E=e.O()}]);